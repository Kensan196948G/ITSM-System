# æŠ€è¡“çš„è² å‚µã‚µãƒãƒªãƒ¼ãƒ¬ãƒãƒ¼ãƒˆ

ç”Ÿæˆæ—¥æ™‚: 2026-02-09
æ‹…å½“: tech-debt-manager (ClaudeCode)

---

## ğŸ“Š æ¦‚è¦

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã‹ã‚‰å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã«é–¢é€£ã™ã‚‹TODO/FIXMEã‚³ãƒ¡ãƒ³ãƒˆã‚’æŠ½å‡ºã—ã€åˆ†é¡ã—ã¾ã—ãŸã€‚

| é …ç›® | ä»¶æ•° |
|------|------|
| **åˆè¨ˆ** | **7ä»¶** |
| P1ï¼ˆé«˜å„ªå…ˆåº¦ï¼‰ | 4ä»¶ |
| P2ï¼ˆä¸­å„ªå…ˆåº¦ï¼‰ | 3ä»¶ |

---

## ğŸ“‹ å„ªå…ˆåº¦åˆ¥åˆ†é¡

### ğŸ”´ P1ï¼ˆé«˜å„ªå…ˆåº¦ï¼‰: 4ä»¶

#### 1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒªã‚¹ãƒˆã‚¢æ©Ÿèƒ½æœªå®Ÿè£…
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `backend/services/backupService.js:380`
- **ç¨®é¡**: Featureï¼ˆæœªå®Ÿè£…æ©Ÿèƒ½ï¼‰
- **å†…å®¹**: `restoreBackup()` é–¢æ•°ãŒæœªå®Ÿè£…ã§å¸¸ã«ã‚¨ãƒ©ãƒ¼ã‚’throw
- **å½±éŸ¿**: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¯ä½œæˆã§ãã‚‹ãŒå¾©å…ƒã§ããªã„ï¼ˆé‡å¤§ãªæ©Ÿèƒ½æ¬ é™¥ï¼‰
- **æ¨å¥¨å¯¾å¿œ**: `restore.sh` ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè£…ã¨SQLiteãƒªã‚¹ãƒˆã‚¢ãƒ­ã‚¸ãƒƒã‚¯ã®è¿½åŠ 

```javascript
// ç¾åœ¨ã®å®Ÿè£…
async function restoreBackup(backupId) {
  // TODO: restore.sh ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè£…å¾Œã€ã“ã“ã§å®Ÿè¡Œ
  // ç¾æ™‚ç‚¹ã§ã¯åŸºæœ¬æ§‹é€ ã®ã¿
  throw new Error('Restore functionality is not yet implemented');
}
```

---

#### 2. Dashboard KPIãƒ†ã‚¹ãƒˆå¤±æ•—ï¼ˆ500ã‚¨ãƒ©ãƒ¼ï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `backend/__tests__/integration/csf-controls.test.js:148`
- **ç¨®é¡**: Bug
- **å†…å®¹**: Dashboard KPI APIãŒãƒ†ã‚¹ãƒˆç’°å¢ƒã§500ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ãŸã‚ãƒ†ã‚¹ãƒˆãŒã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¦ã„ã‚‹
- **å½±éŸ¿**: CSFé€²æ—è¡¨ç¤ºã®çµ±åˆãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œãšã€å“è³ªä¿è¨¼ãŒä¸å®Œå…¨
- **æ¨å¥¨å¯¾å¿œ**: ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã®ã‚¨ãƒ©ãƒ¼åŸå› èª¿æŸ»ã¨ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿æ•´å‚™

```javascript
// ç¾åœ¨ã®å®Ÿè£…
describe('Dashboard CSF Integration', () => {
  // TODO: Fix dashboard KPI test - returns 500 in test environment
  it.skip('ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰KPIã«CSFé€²æ—ãŒå«ã¾ã‚Œã‚‹', async () => {
    // ...
  });
});
```

---

#### 3. 2è¦ç´ èªè¨¼ï¼ˆ2FAï¼‰æœªå®Ÿè£…
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `Docs/é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰.md:318`
- **ç¨®é¡**: Featureï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ï¼‰
- **å†…å®¹**: èªè¨¼æ©Ÿèƒ½ã«2è¦ç´ èªè¨¼ãŒæœªå®Ÿè£…
- **å½±éŸ¿**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ã‚’æº€ãŸã•ãªã„å¯èƒ½æ€§ã€ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ãƒªã‚¹ã‚¯
- **æ¨å¥¨å¯¾å¿œ**: TOTPï¼ˆTime-based One-Time Passwordï¼‰ã¾ãŸã¯SMSèªè¨¼ã®å®Ÿè£…

```javascript
// ç¾åœ¨ã®å®Ÿè£…
async function authenticateUser(username, password) {
  // TODO: 2è¦ç´ èªè¨¼ã‚’è¿½åŠ äºˆå®š

  // 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢
  const user = await findUser(username);

  // 2. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼
  const isValid = await bcrypt.compare(password, user.password_hash);

  return { token, user };
}
```

---

#### 4. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ãƒã‚°
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `Docs/é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰.md:319`
- **ç¨®é¡**: Bug
- **å†…å®¹**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã«ãƒã‚°ãŒå­˜åœ¨ï¼ˆè©³ç´°ä¸æ˜ï¼‰
- **å½±éŸ¿**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚ŒãŸéš›ã«å¾©æ—§ã§ããªã„
- **æ¨å¥¨å¯¾å¿œ**: ãƒã‚°ã®è©³ç´°èª¿æŸ»ã¨ä¿®æ­£ã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¿½åŠ 

```javascript
// ç¾åœ¨ã®å®Ÿè£…
async function authenticateUser(username, password) {
  // FIXME: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã®ãƒã‚°ä¿®æ­£å¿…è¦

  // ...
}
```

---

### ğŸŸ¡ P2ï¼ˆä¸­å„ªå…ˆåº¦ï¼‰: 3ä»¶

#### 5. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å¤±æ•—æ™‚ã®ãƒ¡ãƒ¼ãƒ«é€šçŸ¥æœªå®Ÿè£…
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `backend/services/backupService.js:200`
- **ç¨®é¡**: Featureï¼ˆé€šçŸ¥æ©Ÿèƒ½ï¼‰
- **å†…å®¹**: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å¤±æ•—æ™‚ã«ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã™ã‚‹ä»•çµ„ã¿ãŒæœªå®Ÿè£…
- **å½±éŸ¿**: éšœå®³æ¤œçŸ¥ãŒé…ã‚Œã‚‹å¯èƒ½æ€§ã€é‹ç”¨è² è·å¢—å¤§
- **æ¨å¥¨å¯¾å¿œ**: é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆï¼ˆnodemailerç­‰ï¼‰

```javascript
// ç¾åœ¨ã®å®Ÿè£…
} catch (error) {
  await db('backup_logs').insert({
    backup_id: backupId,
    status: 'failure',
    error_message: error.message,
    completed_at: new Date().toISOString()
  });

  // TODO: é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹ã§ãƒ¡ãƒ¼ãƒ«é€ä¿¡

  throw error;
}
```

---

#### 6. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«è§£å‡ãƒ†ã‚¹ãƒˆæœªå®Ÿè£…
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `backend/services/backupService.js:470`
- **ç¨®é¡**: Featureï¼ˆæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯å¼·åŒ–ï¼‰
- **å†…å®¹**: `.sql.gz` ãƒ•ã‚¡ã‚¤ãƒ«ã®è§£å‡ãƒ†ã‚¹ãƒˆãŒæœªå®Ÿè£…
- **å½±éŸ¿**: ç ´æã—ãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œçŸ¥ã§ããšã€å¾©å…ƒæ™‚ã«å¤±æ•—ã™ã‚‹å¯èƒ½æ€§
- **æ¨å¥¨å¯¾å¿œ**: è§£å‡ãƒ†ã‚¹ãƒˆãƒ­ã‚¸ãƒƒã‚¯ã®è¿½åŠ 

```javascript
// ç¾åœ¨ã®å®Ÿè£…
// 2. ãƒã‚§ãƒƒã‚¯ã‚µãƒ æ¤œè¨¼ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰
const checksumCheck = await verifyChecksum(backup.file_path, backup.checksum);

// TODO: 3. è§£å‡ãƒ†ã‚¹ãƒˆï¼ˆ.sql.gzãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
// TODO: 4. PRAGMA integrity_checkï¼ˆSQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ•´åˆæ€§ï¼‰

return results;
```

---

#### 7. SQLiteæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯æœªå®Ÿè£…
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `backend/services/backupService.js:471`
- **ç¨®é¡**: Featureï¼ˆæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯å¼·åŒ–ï¼‰
- **å†…å®¹**: `PRAGMA integrity_check` ã«ã‚ˆã‚‹æ¤œè¨¼ãŒæœªå®Ÿè£…
- **å½±éŸ¿**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç ´æã‚’æ¤œçŸ¥ã§ããšã€ç„¡åŠ¹ãªãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒä¿å­˜ã•ã‚Œã‚‹å¯èƒ½æ€§
- **æ¨å¥¨å¯¾å¿œ**: SQLiteæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯ã®è¿½åŠ 

```javascript
// ç¾åœ¨ã®å®Ÿè£…
// 2. ãƒã‚§ãƒƒã‚¯ã‚µãƒ æ¤œè¨¼ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰
const checksumCheck = await verifyChecksum(backup.file_path, backup.checksum);

// TODO: 3. è§£å‡ãƒ†ã‚¹ãƒˆï¼ˆ.sql.gzãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
// TODO: 4. PRAGMA integrity_checkï¼ˆSQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ•´åˆæ€§ï¼‰

return results;
```

---

## ğŸ·ï¸ ã‚«ãƒ†ã‚´ãƒªåˆ¥çµ±è¨ˆ

| ã‚«ãƒ†ã‚´ãƒª | ä»¶æ•° | å„ªå…ˆåº¦ |
|---------|------|--------|
| Featureï¼ˆæœªå®Ÿè£…æ©Ÿèƒ½ï¼‰ | 5ä»¶ | P1: 2ä»¶, P2: 3ä»¶ |
| Bugï¼ˆãƒã‚°ä¿®æ­£ï¼‰ | 2ä»¶ | P1: 2ä»¶ |

---

## ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥çµ±è¨ˆ

| ãƒ•ã‚¡ã‚¤ãƒ« | TODO/FIXMEä»¶æ•° |
|---------|---------------|
| `backend/services/backupService.js` | 4ä»¶ |
| `backend/__tests__/integration/csf-controls.test.js` | 1ä»¶ |
| `Docs/é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰.md` | 2ä»¶ |

---

## âœ… æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### å³æ™‚å¯¾å¿œï¼ˆP1ï¼‰
1. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒªã‚¹ãƒˆã‚¢æ©Ÿèƒ½å®Ÿè£…** â†’ [Issue #37](https://github.com/Kensan196948G/ITSM-System/issues/37)
2. **Dashboard KPIãƒ†ã‚¹ãƒˆä¿®æ­£** â†’ [Issue #38](https://github.com/Kensan196948G/ITSM-System/issues/38)
3. **2è¦ç´ èªè¨¼å®Ÿè£…** â†’ [Issue #39](https://github.com/Kensan196948G/ITSM-System/issues/39)
4. **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆãƒã‚°ä¿®æ­£** â†’ [Issue #40](https://github.com/Kensan196948G/ITSM-System/issues/40)

### è¨ˆç”»çš„å¯¾å¿œï¼ˆP2ï¼‰
5. **ãƒ¡ãƒ¼ãƒ«é€šçŸ¥æ©Ÿèƒ½è¿½åŠ ** â†’ [Issue #41](https://github.com/Kensan196948G/ITSM-System/issues/41)
6. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è§£å‡ãƒ†ã‚¹ãƒˆå®Ÿè£…** â†’ [Issue #42](https://github.com/Kensan196948G/ITSM-System/issues/42)
7. **SQLiteæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯å®Ÿè£…** â†’ [Issue #43](https://github.com/Kensan196948G/ITSM-System/issues/43)

---

## ğŸ“ˆ é€²æ—ç®¡ç†

GitHub Issuesä½œæˆå¾Œã€ä»¥ä¸‹ã®ãƒ©ãƒ™ãƒ«ã§ç®¡ç†ã—ã¾ã™ï¼š

- `tech-debt`: æŠ€è¡“çš„è² å‚µå…¨èˆ¬
- `P1` / `P2`: å„ªå…ˆåº¦
- `feature` / `bug`: ç¨®é¡
- `security`: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰
- `testing`: ãƒ†ã‚¹ãƒˆé–¢é€£ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰

---

## ğŸ” æŠ½å‡ºæ–¹æ³•

### æ¤œç´¢ãƒ‘ã‚¿ãƒ¼ãƒ³
```bash
grep -rn "TODO\|FIXME\|HACK\|XXX" backend/ frontend/ Docs/
```

### é™¤å¤–å¯¾è±¡
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼ˆä¾‹: `XXX-XXXX-XXXX`ï¼‰
- è‡ªå‹•ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`node_modules/`, `package-lock.json`ï¼‰
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å†…ã®ä¾‹ç¤ºç”¨ã‚³ãƒ¡ãƒ³ãƒˆ

---

## ğŸ“ å‚™è€ƒ

- **æŠ½å‡ºæ—¥æ™‚**: 2026-02-09T23:xx:xx+09:00
- **æŠ½å‡ºç¯„å›²**: `backend/`, `frontend/`, `Docs/`
- **äºˆæƒ³ä»¶æ•°ã¨ã®å·®ç•°**: ã‚¿ã‚¹ã‚¯èª¬æ˜ã§ã¯ã€Œ30ä»¶ã€ã§ã—ãŸãŒã€å®Ÿéš›ã®å®Ÿè£…é–¢é€£TODO/FIXMEã¯7ä»¶ã§ã—ãŸ
- **æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: team-leadã®æ‰¿èªå¾Œã€7ä»¶ã®GitHub Issuesã‚’ä½œæˆ

---

**ç”Ÿæˆè€…**: tech-debt-manager (ClaudeCode Agent)
