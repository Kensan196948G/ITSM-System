# アクセシビリティガイド - ITSM-Sec Nexus

## 概要

ITSM-Sec Nexusは、WCAG 2.1 Level AA準拠のアクセシビリティ機能を実装しています。このドキュメントでは、実装されているアクセシビリティ機能と、使用方法について説明します。

## 実装されている機能

### 1. セマンティックHTML

適切なHTML5セマンティック要素を使用して、ページ構造を明確にしています。

- **ランドマークロール**: `<header>`, `<nav>`, `<main>`, `<aside>`, `<footer>`
- **見出し階層**: 論理的な見出しレベル（h1〜h6）
- **リスト要素**: `<ul>`, `<ol>`, `<dl>`の適切な使用

### 2. キーボードナビゲーション

すべての機能はキーボードのみで操作可能です。

#### ショートカットキー

| キー | 機能 |
|------|------|
| **Tab** | 次のフォーカス可能要素に移動 |
| **Shift + Tab** | 前のフォーカス可能要素に移動 |
| **Enter** | フォーム送信、リンク/ボタンの実行 |
| **Escape** | モーダルを閉じる |
| **Space** | ボタンの実行、チェックボックスの切り替え |

#### フォーカス管理

- **視覚的なフォーカスインジケーター**: 青色のアウトライン（2px solid）
- **フォーカストラップ**: モーダル内でフォーカスが循環
- **フォーカス復帰**: モーダルを閉じると元の要素にフォーカスが戻る

### 3. ARIA属性

スクリーンリーダーのサポートを強化するため、適切なARIA属性を使用しています。

#### 主要なARIA属性

- **aria-label**: 要素のアクセシブルな名前を提供
- **aria-labelledby**: 他の要素を参照してラベルを設定
- **aria-describedby**: 追加の説明を提供
- **aria-live**: 動的コンテンツの変更を通知（polite/assertive）
- **aria-expanded**: 展開/折りたたみ状態を示す
- **aria-current**: 現在のページ/項目を示す
- **aria-modal**: モーダルダイアログを示す
- **aria-hidden**: スクリーンリーダーから隠す

### 4. カラーコントラスト

WCAG 2.1 Level AA基準（4.5:1以上）を満たすカラーコントラスト比を実装しています。

#### カラーパレット（WCAG AA準拠）

| 用途 | カラーコード | 背景とのコントラスト比 |
|------|-------------|----------------------|
| プライマリブルー | `#2563eb` | 4.56:1 |
| グリーン（成功） | `#059669` | 4.52:1 |
| レッド（エラー） | `#dc2626` | 5.12:1 |
| オレンジ（警告） | `#d97706` | 4.68:1 |
| パープル | `#7c3aed` | 4.61:1 |
| セカンダリテキスト | `#475569` | 7.23:1 |

### 5. スクリーンリーダー対応

#### 視覚的に隠す要素

`.visually-hidden` クラスを使用して、視覚的には非表示だがスクリーンリーダーには読み上げられる要素を実装しています。

```css
.visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}
```

#### ライブリージョン

動的なコンテンツ変更は、aria-liveリージョンを通じてスクリーンリーダーに通知されます。

- **成功メッセージ**: `aria-live="polite"`
- **エラーメッセージ**: `aria-live="assertive"`

### 6. スキップリンク

キーボードユーザーが繰り返しナビゲーションをスキップできるように、スキップリンクを実装しています。

```html
<a href="#main-content" class="skip-link">メインコンテンツへスキップ</a>
```

スキップリンクは通常非表示ですが、フォーカス時に表示されます。

## アクセシビリティテスト

### 自動テスト（axe-core）

アクセシビリティの自動テストには、axe-coreライブラリを使用しています。

#### テストの実行方法

1. ブラウザで `/frontend/accessibility-test.html` を開く
2. 「アクセシビリティテストを実行」ボタンをクリック
3. テスト結果を確認
4. 必要に応じてJSONファイルとしてエクスポート

#### テスト範囲

- WCAG 2.0 Level A
- WCAG 2.0 Level AA
- WCAG 2.1 Level A
- WCAG 2.1 Level AA

### 手動テスト

以下の手動テストも実施することを推奨します：

1. **キーボードテスト**
   - マウスを使用せず、キーボードのみですべての機能を操作
   - フォーカスが適切に移動することを確認
   - モーダルのフォーカストラップを確認

2. **スクリーンリーダーテスト**
   - NVDA（Windows）またはVoiceOver（macOS）を使用
   - すべてのコンテンツが適切に読み上げられることを確認
   - フォームフィールドのラベルが正しく関連付けられていることを確認

3. **ズームテスト**
   - ブラウザのズームを200%まで拡大
   - コンテンツが適切にリフローすることを確認
   - テキストが切れたり重なったりしないことを確認

4. **カラーコントラストテスト**
   - ブラウザの開発者ツールを使用
   - すべてのテキストとアイコンのコントラスト比を確認

## ブラウザサポート

以下のブラウザでアクセシビリティ機能が動作確認されています：

- **Chrome/Edge**: 最新版
- **Firefox**: 最新版
- **Safari**: 最新版

## 既知の問題

現在、既知のアクセシビリティ問題はありません。

問題を発見した場合は、GitHubのIssueで報告してください。

## 参考資料

- [WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [ARIA Authoring Practices Guide](https://www.w3.org/WAI/ARIA/apg/)
- [axe-core Documentation](https://github.com/dequelabs/axe-core)
- [WebAIM Contrast Checker](https://webaim.org/resources/contrastchecker/)

## 貢献

アクセシビリティの改善提案は常に歓迎します。プルリクエストまたはIssueでご連絡ください。

---

**最終更新**: 2026-01-07
**WCAG準拠レベル**: Level AA
**テストツール**: axe-core 4.8.2
