# å¾€å¾©é–‹ç™ºãƒ«ãƒ¼ãƒ— - ãƒžãƒ¼ã‚¸å¾Œã® ClaudeCode ä½œæ¥­é€šçŸ¥
#
# ã“ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã€PR ãŒ main ãƒ–ãƒ©ãƒ³ãƒã«ãƒžãƒ¼ã‚¸ã•ã‚ŒãŸå¾Œã«è‡ªå‹•å®Ÿè¡Œã•ã‚Œã€
# ClaudeCode ã«ã‚ˆã‚‹ç²¾ç·»åŒ–ä½œæ¥­ç”¨ã® Issue ã‚’è‡ªå‹•ä½œæˆã—ã¾ã™ã€‚
#
# ã€å¾€å¾©é–‹ç™ºãƒ«ãƒ¼ãƒ—ã®ãƒ•ãƒ­ãƒ¼ã€‘
#   1. GitHub Copilot Agent ãŒåˆæœŸå®Ÿè£… â†’ PRä½œæˆ
#   2. GitHub Actions (ci.yml) ã§å“è³ªãƒã‚§ãƒƒã‚¯
#   3. äººé–“ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ‰¿èª
#   4. main ã¸ãƒžãƒ¼ã‚¸
#   5. ã“ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒ Issue è‡ªå‹•ä½œæˆ â† â˜… ã“ã“
#   6. ClaudeCode ãŒ Issue ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«å¾“ã„ç²¾ç·»åŒ–
#   7. æ–°ã—ã„ PR ä½œæˆ â†’ 2 ã¸æˆ»ã‚‹ï¼ˆå¿…è¦ã«å¿œã˜ã¦ç¹°ã‚Šè¿”ã—ï¼‰

name: ðŸ”„ å¾€å¾©é–‹ç™ºãƒ«ãƒ¼ãƒ— - ãƒžãƒ¼ã‚¸å¾Œé€šçŸ¥

on:
  push:
    branches:
      - main
  workflow_dispatch:
    inputs:
      pr_number:
        description: 'PRç•ªå·ï¼ˆæ‰‹å‹•å®Ÿè¡Œæ™‚ï¼‰'
        required: false
        type: string

permissions:
  contents: read
  issues: write
  pull-requests: read

jobs:
  create-refinement-issue:
    name: ðŸ“‹ ç²¾ç·»åŒ–ä½œæ¥­ç”¨Issueä½œæˆ
    runs-on: ubuntu-latest
    timeout-minutes: 5

    steps:
      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      # ã‚¹ãƒ†ãƒƒãƒ—1: PRæƒ…å ±å–å¾—
      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      - name: ðŸ“¥ ãƒªãƒã‚¸ãƒˆãƒªãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
        uses: actions/checkout@v4
        with:
          fetch-depth: 2  # ç›´è¿‘2ã‚³ãƒŸãƒƒãƒˆå–å¾—ï¼ˆå·®åˆ†ç¢ºèªç”¨ï¼‰

      - name: ðŸ” ãƒžãƒ¼ã‚¸ã•ã‚ŒãŸPRæƒ…å ±ã‚’å–å¾—
        id: pr_info
        uses: actions/github-script@v7
        with:
          script: |
            let prNumber, prTitle, prAuthor, prUrl, prBody;

            if (context.eventName === 'workflow_dispatch' && context.payload.inputs.pr_number) {
              // æ‰‹å‹•å®Ÿè¡Œæ™‚
              prNumber = context.payload.inputs.pr_number;
              const pr = await github.rest.pulls.get({
                owner: context.repo.owner,
                repo: context.repo.repo,
                pull_number: parseInt(prNumber)
              });
              prTitle = pr.data.title;
              prAuthor = pr.data.user.login;
              prUrl = pr.data.html_url;
              prBody = pr.data.body || '';
            } else {
              // è‡ªå‹•å®Ÿè¡Œæ™‚ï¼ˆpush ãƒˆãƒªã‚¬ãƒ¼ï¼‰
              const commit = context.payload.head_commit;
              const commitMessage = commit.message;

              // ãƒžãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆã‹ã‚‰ PRç•ªå·ã‚’æŠ½å‡º
              const prMatch = commitMessage.match(/#(\d+)/);
              if (!prMatch) {
                console.log('â­ï¸ ãƒžãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆã§ã¯ãªã„ãŸã‚ã‚¹ã‚­ãƒƒãƒ—');
                core.setOutput('skip', 'true');
                return;
              }

              prNumber = prMatch[1];
              const pr = await github.rest.pulls.get({
                owner: context.repo.owner,
                repo: context.repo.repo,
                pull_number: parseInt(prNumber)
              });
              prTitle = pr.data.title;
              prAuthor = pr.data.user.login;
              prUrl = pr.data.html_url;
              prBody = pr.data.body || '';
            }

            console.log(`PRæƒ…å ±å–å¾—: #${prNumber} - ${prTitle}`);
            core.setOutput('pr_number', prNumber);
            core.setOutput('pr_title', prTitle);
            core.setOutput('pr_author', prAuthor);
            core.setOutput('pr_url', prUrl);
            core.setOutput('pr_body', prBody);
            core.setOutput('skip', 'false');

      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      # ã‚¹ãƒ†ãƒƒãƒ—2: å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§å–å¾—
      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      - name: ðŸ“‚ å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ã‚’å–å¾—
        if: steps.pr_info.outputs.skip != 'true'
        id: changed_files
        uses: actions/github-script@v7
        with:
          script: |
            const prNumber = ${{ steps.pr_info.outputs.pr_number }};
            const files = await github.rest.pulls.listFiles({
              owner: context.repo.owner,
              repo: context.repo.repo,
              pull_number: prNumber
            });

            const changedFiles = files.data.map(file => {
              const status = file.status === 'added' ? 'ðŸ†•' :
                            file.status === 'modified' ? 'âœï¸' :
                            file.status === 'removed' ? 'ðŸ—‘ï¸' : 'â“';
              return `${status} \`${file.filename}\` (+${file.additions}/-${file.deletions})`;
            }).join('\n');

            console.log('å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§:', changedFiles);
            core.setOutput('changed_files', changedFiles);

      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      # ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸æƒ…å ±å–å¾—ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      - name: ðŸ“Š ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸å–å¾—
        if: steps.pr_info.outputs.skip != 'true'
        id: coverage
        run: |
          # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚Œã°å–å¾—
          if [ -f coverage/coverage-summary.json ]; then
            COVERAGE=$(jq -r '.total.lines.pct' coverage/coverage-summary.json)
            echo "coverage=${COVERAGE}%" >> $GITHUB_OUTPUT
          else
            echo "coverage=æœªæ¸¬å®š" >> $GITHUB_OUTPUT
          fi

      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      # ã‚¹ãƒ†ãƒƒãƒ—4: Issueä½œæˆ
      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      - name: ðŸ“ ç²¾ç·»åŒ–ä½œæ¥­ç”¨Issueã‚’ä½œæˆ
        if: steps.pr_info.outputs.skip != 'true'
        uses: actions/github-script@v7
        with:
          script: |
            const prNumber = '${{ steps.pr_info.outputs.pr_number }}';
            const prTitle = '${{ steps.pr_info.outputs.pr_title }}';
            const prAuthor = '${{ steps.pr_info.outputs.pr_author }}';
            const prUrl = '${{ steps.pr_info.outputs.pr_url }}';
            const changedFiles = `${{ steps.changed_files.outputs.changed_files }}`;
            const coverage = '${{ steps.coverage.outputs.coverage }}';

            const issueTitle = `ðŸ”„ ç²¾ç·»åŒ–ä½œæ¥­: ${prTitle} (PR #${prNumber})`;
            const issueBody = `## ðŸ“‹ å¾€å¾©é–‹ç™ºãƒ«ãƒ¼ãƒ— - ClaudeCode ç²¾ç·»åŒ–ä½œæ¥­

ã“ã®Issueã¯ã€PR #${prNumber} ãŒ main ãƒ–ãƒ©ãƒ³ãƒã«ãƒžãƒ¼ã‚¸ã•ã‚ŒãŸå¾Œã€å“è³ªã‚’ã•ã‚‰ã«å‘ä¸Šã•ã›ã‚‹ãŸã‚ã®ä½œæ¥­ãƒªã‚¹ãƒˆã§ã™ã€‚

---

### ðŸ“Œ å…ƒã®PRæƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **PRç•ªå·** | [#${prNumber}](${prUrl}) |
| **ã‚¿ã‚¤ãƒˆãƒ«** | ${prTitle} |
| **ä½œæˆè€…** | @${prAuthor} |
| **ãƒžãƒ¼ã‚¸æ—¥æ™‚** | ${new Date().toISOString().split('T')[0]} |
| **ã‚«ãƒãƒ¬ãƒƒã‚¸** | ${coverage} |

---

### ðŸ“‚ å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

${changedFiles || 'ï¼ˆå¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ãªã—ï¼‰'}

---

### âœ… ç²¾ç·»åŒ–ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ä»¥ä¸‹ã®ãƒ•ã‚§ãƒ¼ã‚ºã«å¾“ã£ã¦ã€æ®µéšŽçš„ã«å“è³ªã‚’å‘ä¸Šã•ã›ã¦ãã ã•ã„ã€‚
**é‡è¦**: 1å›žã®PRã§1ãƒ•ã‚§ãƒ¼ã‚ºãšã¤å®Ÿæ–½ã—ã€éŽå‰°ãªå¤‰æ›´ã‚’é¿ã‘ã¦ãã ã•ã„ã€‚

#### ãƒ•ã‚§ãƒ¼ã‚º1: åˆæœŸãƒ¬ãƒ“ãƒ¥ãƒ¼ ðŸ”
- [ ] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆå¯èª­æ€§ã€ä¿å®ˆæ€§ã€è¨­è¨ˆï¼‰
- [ ] ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®æ´—ã„å‡ºã—
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ç¢ºèª
- [ ] ãƒ­ã‚°å‡ºåŠ›ã®é©åˆ‡æ€§ç¢ºèª
- [ ] ã‚³ãƒ¡ãƒ³ãƒˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®éŽä¸è¶³ç¢ºèª

#### ãƒ•ã‚§ãƒ¼ã‚º2: ãƒ†ã‚¹ãƒˆå¼·åŒ– ðŸ§ª
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®è¿½åŠ ãƒ»å¼·åŒ–
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆã®è¿½åŠ ï¼ˆAPI E2Eï¼‰
- [ ] ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆè¿½åŠ 
- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šé”æˆ
- [ ] ãƒ¢ãƒƒã‚¯ã®é©åˆ‡æ€§ç¢ºèª

#### ãƒ•ã‚§ãƒ¼ã‚º3: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¤œè¨¼ ðŸ”’
- [ ] å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¼·åŒ–
- [ ] SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ç¢ºèª
- [ ] XSSå¯¾ç­–ç¢ºèªï¼ˆå‡ºåŠ›ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼‰
- [ ] èªè¨¼ãƒ»èªå¯ã®é©åˆ‡æ€§ç¢ºèª
- [ ] æ©Ÿå¯†æƒ…å ±ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ç¢ºèª
- [ ] npm audit ã§ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯

#### ãƒ•ã‚§ãƒ¼ã‚º4: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æœ€é©åŒ– âš¡
- [ ] N+1ã‚¯ã‚¨ãƒªã®æŽ’é™¤ï¼ˆJOIN ã¾ãŸã¯ whereIn ä½¿ç”¨ï¼‰
- [ ] ä¸è¦ãªDBå‘¼ã³å‡ºã—å‰Šæ¸›
- [ ] å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®æœ€é©åŒ–ï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç­‰ï¼‰
- [ ] ã‚­ãƒ£ãƒƒã‚·ãƒ¥å°Žå…¥æ¤œè¨Ž
- [ ] ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ç¢ºèª

#### ãƒ•ã‚§ãƒ¼ã‚º5: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ ðŸ“š
- [ ] ã‚³ãƒ¼ãƒ‰å†…ã‚³ãƒ¡ãƒ³ãƒˆã®è¿½åŠ ãƒ»æ”¹å–„
- [ ] APIä»•æ§˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰
- [ ] README.md æ›´æ–°ï¼ˆæ–°æ©Ÿèƒ½ã®å ´åˆï¼‰
- [ ] ä½¿ç”¨ä¾‹ãƒ»ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰è¿½åŠ 
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ˜Žç¢ºåŒ–

#### ãƒ•ã‚§ãƒ¼ã‚º6: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° ðŸ”„
- [ ] ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡æŽ’é™¤ï¼ˆDRYåŽŸå‰‡ï¼‰
- [ ] é–¢æ•°ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ã®åˆ†å‰²ï¼ˆå˜ä¸€è²¬ä»»åŽŸå‰‡ï¼‰
- [ ] å¤‰æ•°ãƒ»é–¢æ•°åã®æ”¹å–„ï¼ˆå¯èª­æ€§å‘ä¸Šï¼‰
- [ ] ãƒžã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ã®å®šæ•°åŒ–
- [ ] ä¸è¦ãªã‚³ãƒ¼ãƒ‰å‰Šé™¤

---

### ðŸ›‘ åœæ­¢æ¡ä»¶ï¼ˆä»¥ä¸‹ã‚’ã™ã¹ã¦æº€ãŸã—ãŸã‚‰å®Œäº†ï¼‰

- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ â‰¥ 80%
- [ ] \`npm run lint\` ã‚¨ãƒ©ãƒ¼ 0ä»¶
- [ ] \`npm audit\` è„†å¼±æ€§ 0ä»¶ï¼ˆé«˜ãƒ»ä¸­ï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹å•é¡Œè§£æ±º
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œå‚™
- [ ] æ–°ã—ã„æ”¹å–„ç‚¹ãŒè¦‹ã¤ã‹ã‚‰ãªã„

â†’ ã™ã¹ã¦æº€ãŸã—ãŸã‚‰ã€ã“ã® Issue ã‚’ã€ŒClose as completedã€ã§ã‚¯ãƒ­ãƒ¼ã‚ºã—ã¦ãã ã•ã„ã€‚

---

### ðŸ“– å‚è€ƒè³‡æ–™

- [CLAUDE.md - å¾€å¾©é–‹ç™ºãƒ«ãƒ¼ãƒ—ãƒ¢ãƒ¼ãƒ‰](../CLAUDE.md#ãƒ¢ãƒ¼ãƒ‰2-å¾€å¾©é–‹ç™ºãƒ«ãƒ¼ãƒ—ãƒ¢ãƒ¼ãƒ‰)
- [ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ](../docs/CLAUDECODE_PROMPTS_TEMPLATE.md)
- [å…ƒã®PR](${prUrl})

---

### ðŸ¤– ClaudeCode èµ·å‹•æ–¹æ³•

\`\`\`bash
# ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ ClaudeCode ã‚’èµ·å‹•
cd /path/to/ITSM-System
claude-code

# ã“ã®Issueã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«å¾“ã£ã¦ä½œæ¥­ã‚’é€²ã‚ã‚‹
\`\`\`

---

**è‡ªå‹•ç”Ÿæˆæ—¥æ™‚**: ${new Date().toISOString()}
**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: \`post-merge-notify.yml\`
`;

            // Issueä½œæˆ
            const issue = await github.rest.issues.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: issueTitle,
              body: issueBody,
              labels: ['refinement', 'claude-code', 'quality-improvement']
            });

            console.log(\`âœ… Issueä½œæˆå®Œäº†: \${issue.data.html_url}\`);
            core.setOutput('issue_url', issue.data.html_url);
            core.setOutput('issue_number', issue.data.number);

      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      # ã‚¹ãƒ†ãƒƒãƒ—5: ã‚µãƒžãƒªãƒ¼å‡ºåŠ›
      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      - name: ðŸ“Š å®Ÿè¡Œã‚µãƒžãƒªãƒ¼
        if: always()
        run: |
          SKIP="${{ steps.pr_info.outputs.skip }}"
          ISSUE_URL="${{ steps.create-refinement-issue.outputs.issue_url }}"

          echo "## ðŸ”„ å¾€å¾©é–‹ç™ºãƒ«ãƒ¼ãƒ— - ãƒžãƒ¼ã‚¸å¾Œé€šçŸ¥" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          if [ "$SKIP" = "true" ]; then
            echo "### â­ï¸ ã‚¹ã‚­ãƒƒãƒ—" >> $GITHUB_STEP_SUMMARY
            echo "ãƒžãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆã§ã¯ãªã„ãŸã‚ã€Issueä½œæˆã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã—ãŸã€‚" >> $GITHUB_STEP_SUMMARY
          else
            echo "### âœ… Issueä½œæˆå®Œäº†" >> $GITHUB_STEP_SUMMARY
            echo "" >> $GITHUB_STEP_SUMMARY
            echo "ClaudeCode ã«ã‚ˆã‚‹ç²¾ç·»åŒ–ä½œæ¥­ç”¨ã® Issue ã‚’ä½œæˆã—ã¾ã—ãŸã€‚" >> $GITHUB_STEP_SUMMARY
            echo "" >> $GITHUB_STEP_SUMMARY
            echo "**Issue**: [$ISSUE_URL]($ISSUE_URL)" >> $GITHUB_STEP_SUMMARY
            echo "" >> $GITHUB_STEP_SUMMARY
            echo "---" >> $GITHUB_STEP_SUMMARY
            echo "ðŸ“‹ **æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ ClaudeCode ã‚’èµ·å‹•ã—ã€Issue ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«å¾“ã£ã¦ç²¾ç·»åŒ–ä½œæ¥­ã‚’é€²ã‚ã¦ãã ã•ã„ã€‚" >> $GITHUB_STEP_SUMMARY
          fi
